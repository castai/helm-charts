apiVersion: v2
name: castai-umbrella
description: Umbrella chart for CAST AI components with tag-based installation.
type: application
version: 0.1.0

dependencies:
  - name: castai-agent
    alias: agent
    version: "0.137.0"
    repository: "https://castai.github.io/helm-charts"
    condition: agent.enabled
    tags:
      - kent
      - autoscaler
      - read-only

  - name: castai-cluster-controller
    alias: cluster-controller
    version: "0.89.1"
    repository: "https://castai.github.io/helm-charts"
    condition: cluster-controller.enabled
    tags:
      - kent
      - autoscaler

  - name: castai-kentroller
    alias: kentroller
    version: "0.1.56"
    repository: "https://castai.github.io/helm-charts"
    condition: kentroller.enabled
    tags:
      - kent

  - name: castai-workload-autoscaler
    alias: workload-autoscaler
    version: "0.1.169"
    repository: "https://castai.github.io/helm-charts"
    condition: workload-autoscaler.enabled
    tags:
      - kent
      - autoscaler

  - name: castai-live
    alias: live
    version: "0.71.0"
    repository: "https://castai.github.io/helm-charts"
    condition: live.enabled
    tags:
      - kent
      - autoscaler

  - name: castai-pod-mutator
    alias: pod-mutator
    version: "0.4.5"
    repository: "https://castai.github.io/helm-charts"
    condition: pod-mutator.enabled
    tags:
      - kent
      - autoscaler

  - name: castai-evictor
    alias: evictor
    version: "0.33.199"
    repository: "https://castai.github.io/helm-charts"
    condition: evictor.enabled
    tags:
      - kent
      - autoscaler

  - name: castai-spot-handler
    alias: spot-handler
    version: "0.29.0"
    repository: "https://castai.github.io/helm-charts"
    condition: spot-handler.enabled
    tags:
      - autoscaler

  # metrics-server is disabled by default. Most clusters (EKS, GKE, AKS) already
  # provide the metrics.k8s.io API. Enable when using Karpenter or when the cluster
  # does not have a metrics API available (required by workload-autoscaler).
  - name: metrics-server
    alias: metrics-server
    version: "3.13.0"
    repository: "https://kubernetes-sigs.github.io/metrics-server/"
    condition: metrics-server.enabled
