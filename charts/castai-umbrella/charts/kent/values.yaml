agent:
  replicaCount: 1
  apiKeySecretRef: castai-credentials
  # Currently only EKS is supported
  provider: eks
  # executed for helm to create the namespace `helm --create-namespace`
  createNamespace: false

cluster-controller:
  castai:
    apiKeySecretRef: castai-credentials
  envFrom:
    - configMapRef:
        name: castai-agent-metadata
  autoscaling:
    enabled: false

kentroller:
  castai:
    apiKeySecretRef: castai-credentials
  envFrom:
    - configMapRef:
        name: castai-agent-metadata

workload-autoscaler:
  castai:
    apiKeySecretRef: castai-credentials
    configMapRef: castai-agent-metadata

# Disabled by default â€” most clusters already provide the metrics.k8s.io API.
# Enable when needed by the cluster (for example, Karpenter setups).
metrics-server:
  enabled: false

# controller.replicaCount: 0 = CLM disabled, 2 = CLM enabled.
live:
  castai:
    apiKeySecretRef: castai-credentials
    configMapRef: castai-agent-metadata
  castai-aws-vpc-cni:
    enabled: true
  daemon:
    labelNodeSubnet: true
  controller:
    replicaCount: 0

pod-mutator:
  dependencyCheck:
    enabled: false
  castai:
    apiKeySecretRef: castai-credentials
    configMapRef: castai-agent-metadata
  envFrom:
    - configMapRef:
        name: castai-agent-metadata

evictor:
  replicaCount: 1
  karpenterMode:
    enabled: true
  aggressiveMode: true
  overrideEnvFrom: true
  envFrom:
    - secretRef:
        name: castai-credentials
    - configMapRef:
        name: castai-agent-metadata
